---
content_type: page
parent_title: 3 Logistic Regression
parent_uid: c4464cf4-9ddb-1a4b-c78c-faa6f93b74de
title: 3.5 Assignment 3
uid: d4a650ea-930c-2c8c-0f98-9b353a5a342e
---
<ul class="navigation pagination">     <li id="top_bck_btn"><a href="./resolveuid/bafc7d5602f9e47a53ea0d210aa17805">&lt;<span>Video 5: Test Set Predictions</span></a></li>     <li id="flp_btn_1" class="button_selected"><a href="./resolveuid/d4a650ea930c2c8c0f989b353a5a342e">3.5.1<span>Popularity of Music Records</span></a></li>     <li id="flp_btn_2"><a href="./resolveuid/3b4628337389a83d66097f7597856e56">3.5.2<span>Predicting the Baseball World Series Champion</span></a></li>     <li id="top_continue_btn"><a href="./resolveuid/3b4628337389a83d66097f7597856e56">&gt;<span>Predicting the Baseball World Series Champion</span></a></li> </ul> <h2 class="subhead">Popularity of Music Records</h2> <p>The music industry has a well-developed market with a global annual revenue around&nbsp;$15 billion. The recording industry is highly competitive and is dominated by three big production companies which make up nearly 82% of the total annual album sales. <br /> <br /> Artists are at the core of the music industry and record labels provide them with the necessary resources to sell their music on a large scale. A record label incurs numerous costs (studio recording, marketing, distribution, and touring) in exchange for a percentage of the profits from album sales, singles and concert tickets.<br /> <br /> Unfortunately, the success of an artist's release is highly uncertain: a single may be extremely popular, resulting in widespread radio play and digital downloads, while another single may turn out quite unpopular, and therefore unprofitable. <br /> <br /> Knowing the competitive nature of the recording industry, record labels face the fundamental decision problem of which musical releases to support to maximize their financial success. <br /> <br /> How can we use analytics to predict the popularity of a song?&nbsp;In this assignment, we challenge ourselves to predict whether a song will reach a spot in the Top 10 of the Billboard Hot 100 Chart.</p> <p>Taking an analytics approach, we aim to use information about a song's properties to predict its popularity. The dataset <a href="./resolveuid/0657f55b10c097853d2bee6e5186764d">songs (CSV)</a>&nbsp;consists of all songs&nbsp;which made it to the Top 10 of the Billboard Hot 100 Chart from 1990-2010 plus a sample of additional songs that didn't make the Top 10.&nbsp;This data comes from three sources: <a href="http://en.wikipedia.org/wiki/Billboard_Hot_100">Wikipedia</a>, <a href="http://www.billboard.com/">Billboard.com</a>, and <a href="https://en.wikipedia.org/wiki/The_Echo_Nest">EchoNest</a>.</p> <p>The variables included in the dataset either describe the artist or the song, or they are associated with the following song attributes: time signature, loudness, key, pitch, tempo, and timbre.</p> <p>Here's a detailed description of the variables:</p> <ul>     <li><strong>year</strong> = the year the song was released</li>     <li><strong>songtitle</strong> = the title of the song</li>     <li><strong>artistname</strong> = the name of the artist of the song</li>     <li><strong>songID</strong> and <strong>artistID</strong> = identifying variables for the song and artist</li>     <li><strong>timesignature</strong>&nbsp;and <strong>timesignature_confidence</strong> = a variable estimating the time signature of the song, and the confidence in the estimate</li>     <li><strong>loudness</strong>&nbsp;= a continuous variable indicating the average amplitude of the audio in decibels</li>     <li><strong>tempo</strong> and <strong>tempo_confidence</strong> = a variable indicating the estimated beats per minute of the song, and the confidence in the estimate</li>     <li><strong>key</strong> and <strong>key_confidence</strong>&nbsp;= a variable with twelve levels indicating the estimated key of the song (C, C#, . . ., B), and the confidence in the estimate</li>     <li><strong>energy</strong> = a variable that represents the overall acoustic energy of the song, using a mix of features such as loudness</li>     <li><strong>pitch</strong>&nbsp;= a continuous variable that indicates the pitch of the song</li>     <li><strong>timbre_0_min</strong>, <strong>timbre_0_max</strong>, <strong>timbre_1_min</strong>, <strong>timbre_1_max</strong>, . . . , <strong>timbre_11_min</strong>, and <strong>timbre_11_max</strong> = variables that indicate the minimum/maximum values over all segments for each of the twelve values in the timbre vector (resulting in 24 continuous variables)</li>     <li><strong>Top10</strong> = a binary variable indicating whether or not the song made it to the Top 10 of the Billboard&nbsp;Hot 100&nbsp;Chart (1 if it was in the top 10, and 0 if it was not)</li> </ul> <h2 class="subhead">Problem 1.1 - Understanding the Data</h2> <div class="self_assessment"><p display_name="Problem 1.1 - Understanding the Data" url_name="Problem_1_1_Understanding_the_Data_16">Use the read.csv function to load the dataset &quot;songs.csv&quot; into R.</p> <div id="Q1_div" class="problem_question"><p display_name="Problem 1.1 - Understanding the Data" url_name="Problem_1_1_Understanding_the_Data_17">How many observations (songs) are there in total?</p> <fieldset><legend class="visually-hidden">Exercise 1</legend> <div class="choice"><label id="Q1_label"><span id="Q1_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q1_input" value="" onkeypress="numericTypedOrDropDownSelected(1)" class="problem_text_input" /><input type="hidden" id="Q1_ans" value="7574" /><input type="hidden" id="Q1_tolerance" value="0" /><span id="Q1_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S1_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S1_div" class="problem_solution" tabindex="-1" display_name="Problem 1.1 - Understanding the Data" url_name="Problem_1_1_Understanding_the_Data_19"><div class="detailed-solution"><p>Explanation</p> <p>First, navigate to the directory on your computer containing the file &quot;songs.csv&quot;. You can load the dataset by using the command:</p> <p>songs = read.csv(&quot;songs.csv&quot;)</p> <p>Then, you can count the number of songs by using str(songs), which you can read off the first line on the output, or nrow(songs), which returns the number of rows in the data frame.</p></div></div> <div class="action"><button id="Q1_button" onclick="checkAnswer({1: 'numerical'})" class="problem_mo_button">Check</button><button id="Q1_button_show" onclick="showHideSolution({1: 'numerical'}, 1, [1])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 1.2 - Understanding the Data</h2> <div class="self_assessment"><div id="Q2_div" class="problem_question"><p display_name="Problem 1.2 - Understanding the Data" url_name="Problem_1_2_Understanding_the_Data_4">How many songs does the dataset include for which the artist name is &quot;Michael Jackson&quot;?</p> <fieldset><legend class="visually-hidden">Exercise 2</legend> <div class="choice"><label id="Q2_label"><span id="Q2_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q2_input" value="" onkeypress="numericTypedOrDropDownSelected(2)" class="problem_text_input" /><input type="hidden" id="Q2_ans" value="18" /><input type="hidden" id="Q2_tolerance" value="0" /><span id="Q2_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S2_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S2_div" class="problem_solution" tabindex="-1" display_name="Problem 1.2 - Understanding the Data" url_name="Problem_1_2_Understanding_the_Data_6"><div class="detailed-solution"><p>Explanation</p> <p>One way to compute this would be using table():</p> <p>table(songs$artistname == &quot;Michael Jackson&quot;)</p> <p>We can also get this information using the dplyr package. We will first load the dplyr package:</p> <p>library(dplyr)</p> <p>and then filter the data frame to artistname == &quot;Michael Jackson&quot; and summarize the number of observations:</p> <p>songs %&gt;% filter(artistname == &quot;Michael Jackson&quot;) %&gt;% summarize(count = n())</p></div></div> <div class="action"><button id="Q2_button" onclick="checkAnswer({2: 'numerical'})" class="problem_mo_button">Check</button><button id="Q2_button_show" onclick="showHideSolution({2: 'numerical'}, 2, [2])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 2.1 - Creating Our Prediction Model</h2> <div class="self_assessment"><p display_name="Problem 2.1 - Creating Our Prediction Model" url_name="Problem_2_1_Creating_Our_Prediction_Model_0">We wish to predict whether or not a song will make it to the Top 10. To do this, first use the filter function to split the data into a training set &quot;SongsTrain&quot; consisting of all the observations up to and including 2009 song releases, and a testing set &quot;SongsTest&quot;, consisting of the 2010 song releases.</p> <div id="Q3_div" class="problem_question"><p display_name="Problem 2.1 - Creating Our Prediction Model" url_name="Problem_2_1_Creating_Our_Prediction_Model_1">How many observations (songs) are in the training set?</p> <fieldset><legend class="visually-hidden">Exercise 3</legend> <div class="choice"><label id="Q3_label"><span id="Q3_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q3_input" value="" onkeypress="numericTypedOrDropDownSelected(3)" class="problem_text_input" /><input type="hidden" id="Q3_ans" value="7201" /><input type="hidden" id="Q3_tolerance" value="0" /><span id="Q3_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S3_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S3_div" class="problem_solution" tabindex="-1" display_name="Problem 2.1 - Creating Our Prediction Model" url_name="Problem_2_1_Creating_Our_Prediction_Model_3"><div class="detailed-solution"><p>Explanation</p> <p>SongsTrain = songs %&gt;% filter(year &lt;= 2009)</p> <p>SongsTest = songs %&gt;% filter(year == 2010)</p> <p>The training set has 7201 observations, which can be found by looking at the structure with str(SongsTrain) or by typing nrow(SongsTrain).</p></div></div> <div class="action"><button id="Q3_button" onclick="checkAnswer({3: 'numerical'})" class="problem_mo_button">Check</button><button id="Q3_button_show" onclick="showHideSolution({3: 'numerical'}, 3, [3])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 2.2 - Creating our Prediction Model</h2> <div class="self_assessment"><p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_0">In this problem, our outcome variable is &quot;Top10&quot; - we are trying to predict whether or not a song will make it to the Top 10 of the Billboard Hot 100 Chart. Since the outcome variable is binary, we will build a logistic regression model.</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_1">We will only use the variables in our dataset that describe the numerical attributes of the song in our logistic regression model. So we won't use the variables &quot;year&quot;, &quot;songtitle&quot;, &quot;artistname&quot;, &quot;songID&quot;, or &quot;artistID&quot;.</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_2">We have seen in the lecture that, to build the logistic regression model, we would normally explicitly input the formula including all the independent variables in R. However, in this case, this is a tedious amount of work since we have a large number of independent variables.</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_3">There is a nice trick to avoid doing so by using the symbol &quot;.&quot; that represents all the remaining variables. You can follow the steps below:</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_4"><b>Step 1:</b> we want to exclude some of the variables in our dataset from being used as independent variables (&quot;year&quot;, &quot;songtitle&quot;, &quot;artistname&quot;, &quot;songID&quot;, and &quot;artistID&quot;). To do this, we can use the following trick. First define a vector of variable names called nonvars - these are the variables that we won't use in our model.</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_5">nonvars = c(&quot;year&quot;, &quot;songtitle&quot;, &quot;artistname&quot;, &quot;songID&quot;, &quot;artistID&quot;)</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_6">To remove these variables from your training and testing sets, type the following commands in your R console:</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_7">SongsTrain = SongsTrain[ , !(names(SongsTrain) %in% nonvars) ]</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_8">SongsTest = SongsTest[ , !(names(SongsTest) %in% nonvars) ]</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_9"><b>Step 2:</b> build a logistic regression model to predict Top10 using the training data. We can now use &quot;.&quot; in place of enumerating all the remaining independent variables in the following way:</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_10">SongsLog1 = glm(Top10 ~ ., data=SongsTrain, family=binomial)</p> <p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_11">(Also, keep in mind that you can choose to put quotes around binomial, or leave out the quotes. R can understand this argument either way.)</p> <div id="Q4_div" class="problem_question"><p display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_12">Looking at the summary of your model, <u>excluding the intercept</u>, how many variables are significant at the 5% significance level?</p> <fieldset><legend class="visually-hidden">Exercise 4</legend> <div class="choice"><label id="Q4_label"><span id="Q4_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q4_input" value="" onkeypress="numericTypedOrDropDownSelected(4)" class="problem_text_input" /><input type="hidden" id="Q4_ans" value="20" /><input type="hidden" id="Q4_tolerance" value="1" /><span id="Q4_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S4_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S4_div" class="problem_solution" tabindex="-1" display_name="Problem 2.2 - Creating our Prediction Model" url_name="Problem_2_2_Creating_our_Prediction_Model_14"><div class="detailed-solution"><p>Explanation</p> <p>To answer this question, you first need to run the three given commands to remove the variables that we won't use in the model from the datasets:</p> <p>nonvars = c(&quot;year&quot;, &quot;songtitle&quot;, &quot;artistname&quot;, &quot;songID&quot;, &quot;artistID&quot;)</p> <p>SongsTrain = SongsTrain[ , !(names(SongsTrain) %in% nonvars) ]</p> <p>SongsTest = SongsTest[ , !(names(SongsTest) %in% nonvars) ]</p> <p>Then, you can create the logistic regression model with the following command:</p> <p>SongsLog1 = glm(Top10 ~ ., data=SongsTrain, family=binomial)</p> <p>Looking at the stars on the summary(SongsLog1) output, we can see that 20 variables have at least one star next to the p-values, which represents significance at the 5% level.</p></div></div> <div class="action"><button id="Q4_button" onclick="checkAnswer({4: 'numerical'})" class="problem_mo_button">Check</button><button id="Q4_button_show" onclick="showHideSolution({4: 'numerical'}, 4, [4])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 2.3 - Creating Our Prediction Model</h2> <div class="self_assessment"><div id="Q5_div" class="problem_question"><p display_name="Problem 2.3 - Creating Our Prediction Model" url_name="Problem_2_3_Creating_Our_Prediction_Model_0">Let's now think about the variables in our dataset related to the confidence of the time signature, key, and tempo (timesignature_confidence, key_confidence, and tempo_confidence). Our model seems to indicate that these confidence variables are significant (rather than the variables timesignature, key, and tempo themselves). What does the model suggest?</p> <fieldset><legend class="visually-hidden">Exercise 5</legend> <div class="choice"><label id="Q5_input_1_label"><span id="Q5_input_1_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q5_input_1" onclick="optionSelected(5)" name="Q5_input" class="problem_radio_input" correct="false" /><span class="choice">The lower our confidence about time signature, key and tempo, the more likely the song is to be in the Top 10</span><span id="Q5_input_1_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <div class="choice"><label id="Q5_input_2_label"><span id="Q5_input_2_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q5_input_2" onclick="optionSelected(5)" name="Q5_input" class="problem_radio_input" correct="true" /><span class="choice">The higher our confidence about time signature, key and tempo, the more likely the song is to be in the Top 10</span><span id="Q5_input_2_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> </fieldset></div> <div id="S5_div" class="problem_solution" tabindex="-1" display_name="Problem 2.3 - Creating Our Prediction Model" url_name="Problem_2_3_Creating_Our_Prediction_Model_2"><div class="detailed-solution"><p>Explanation</p> <p>If you look at the output summary(SongsLog1), where SongsLog1 is the name of your logistic regression model, you can see that the coefficient estimates for the confidence variables (timesignature_confidence, key_confidence, and tempo_confidence) are positive. This means that higher confidence leads to a higher predicted probability of a Top 10 hit.</p></div></div> <div class="action"><button id="Q5_button" onclick="checkAnswer({5: 'multiple_choice'})" class="problem_mo_button">Check</button><button id="Q5_button_show" onclick="showHideSolution({5: 'multiple_choice'}, 5, [5])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 2.4 - Creating Our Prediction Model</h2> <div class="self_assessment"><div id="Q6_div" class="problem_question"><p display_name="Problem 2.4 - Creating Our Prediction Model" url_name="Problem_2_4_Creating_Our_Prediction_Model_0">In general, if the confidence is low for the time signature, tempo, and key, then the song is more likely to be complex. What does our model suggest in terms of complexity?</p> <fieldset><legend class="visually-hidden">Exercise 6</legend> <div class="choice"><label id="Q6_input_1_label"><span id="Q6_input_1_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q6_input_1" onclick="optionSelected(6)" name="Q6_input" class="problem_radio_input" correct="false" /><span class="choice">Mainstream listeners tend to prefer more complex songs</span><span id="Q6_input_1_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <div class="choice"><label id="Q6_input_2_label"><span id="Q6_input_2_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q6_input_2" onclick="optionSelected(6)" name="Q6_input" class="problem_radio_input" correct="true" /><span class="choice">Mainstream listeners tend to prefer less complex songs</span><span id="Q6_input_2_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> </fieldset></div> <div id="S6_div" class="problem_solution" tabindex="-1" display_name="Problem 2.4 - Creating Our Prediction Model" url_name="Problem_2_4_Creating_Our_Prediction_Model_2"><div class="detailed-solution"><p>Explanation</p> <p>Since the coefficient values for timesignature_confidence, tempo_confidence, and key_confidence are all positive, lower confidence leads to a lower predicted probability of a song being a hit. So mainstream listeners tend to prefer less complex songs.</p></div></div> <div class="action"><button id="Q6_button" onclick="checkAnswer({6: 'multiple_choice'})" class="problem_mo_button">Check</button><button id="Q6_button_show" onclick="showHideSolution({6: 'multiple_choice'}, 6, [6])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 2.5 - Creating Our Prediction Model</h2> <div class="self_assessment"><p display_name="Problem 2.5 - Creating Our Prediction Model" url_name="Problem_2_5_Creating_Our_Prediction_Model_0">Songs with heavier instrumentation tend to be louder (have higher values in the variable &quot;loudness&quot;).</p> <div id="Q7_div" class="problem_question"><p display_name="Problem 2.5 - Creating Our Prediction Model" url_name="Problem_2_5_Creating_Our_Prediction_Model_1">By inspecting the coefficient of the variable &quot;loudness&quot;, what does our model suggest?</p> <fieldset><legend class="visually-hidden">Exercise 7</legend> <div class="choice"><label id="Q7_input_1_label"><span id="Q7_input_1_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q7_input_1" onclick="optionSelected(7)" name="Q7_input" class="problem_radio_input" correct="true" /><span class="choice">Mainstream listeners prefer songs with heavy instrumentation</span><span id="Q7_input_1_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <div class="choice"><label id="Q7_input_2_label"><span id="Q7_input_2_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><input type="radio" id="Q7_input_2" onclick="optionSelected(7)" name="Q7_input" class="problem_radio_input" correct="false" /><span class="choice">Mainstream listeners prefer songs with light instrumentation</span><span id="Q7_input_2_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> </fieldset></div> <div id="S7_div" class="problem_solution" tabindex="-1" display_name="Problem 2.5 - Creating Our Prediction Model" url_name="Problem_2_5_Creating_Our_Prediction_Model_3"><div class="detailed-solution"><p>Explanation</p> <p>The coefficient estimate for loudness is positive, meaning that mainstream listeners prefer louder songs, which are those with heavier instrumentation.</p></div></div> <div class="action"><button id="Q7_button" onclick="checkAnswer({7: 'multiple_choice'})" class="problem_mo_button">Check</button><button id="Q7_button_show" onclick="showHideSolution({7: 'multiple_choice'}, 7, [7])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 3.1 - Validating Our Model</h2> <div class="self_assessment"><p display_name="Problem 3.1 - Validating Our Model" url_name="Problem_3_1_Validating_Our_Model_0">Make predictions on the test set using our model. What is the accuracy of our model on the test set, using a threshold of 0.45? (Compute the accuracy as a number between 0 and 1.)</p> <div id="Q8_div" class="problem_question"><p display_name="Problem 3.1 - Validating Our Model" url_name="Problem_3_1_Validating_Our_Model_1">To get the accuracy after you make the predictions, you can use the table(variable1, variable2) command to generate a summary table that counts the number of observations for each of the possible combination of values in variable1 and variable2. You can also do so by using the group_by and summarize commands in dplyr package.</p> <fieldset><legend class="visually-hidden">Exercise 8</legend> <div class="choice"><label id="Q8_label"><span id="Q8_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q8_input" value="" onkeypress="numericTypedOrDropDownSelected(8)" class="problem_text_input" /><input type="hidden" id="Q8_ans" value="0.8686" /><input type="hidden" id="Q8_tolerance" value="0.02" /><span id="Q8_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S8_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S8_div" class="problem_solution" tabindex="-1" display_name="Problem 3.1 - Validating Our Model" url_name="Problem_3_1_Validating_Our_Model_3"><div class="detailed-solution"><p>Explanation</p> <p>You can make predictions on the test set by using the command:</p> <p>testPredict = predict(SongsLog1, newdata=SongsTest, type=&quot;response&quot;)</p> <p>Then, you can create a confusion matrix with a threshold of 0.45 by using the table command:</p> <p>table(SongsTest$Top10, testPredict &gt;= 0.45)</p> <p>Or, alternatively, use the group_by and summarize functions in dplyr package:</p> <p>SongsTest$Pred = testPredict &gt;= 0.45</p> <p>SongsTest %&gt;% group_by(Top10, Pred) %&gt;% summarize(count = n())</p> <p>The accuracy of the model is (309+15)/(309+15+44+5) = 0.8686</p></div></div> <div class="action"><button id="Q8_button" onclick="checkAnswer({8: 'numerical'})" class="problem_mo_button">Check</button><button id="Q8_button_show" onclick="showHideSolution({8: 'numerical'}, 8, [8])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 3.2 - Validating Our Model</h2> <div class="self_assessment"><div id="Q9_div" class="problem_question"><p display_name="Problem 3.2 - Validating Our Model" url_name="Problem_3_2_Validating_Our_Model_0">Let's check if there's any incremental benefit in using our model instead of a baseline model. Given the difficulty of guessing which song is going to be a hit, an easier model would be to pick the most frequent outcome (a song is not a Top 10 hit) for all songs. What would the accuracy of the baseline model be on the test set? (Give your answer as a number between 0 and 1.)</p> <fieldset><legend class="visually-hidden">Exercise 9</legend> <div class="choice"><label id="Q9_label"><span id="Q9_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q9_input" value="" onkeypress="numericTypedOrDropDownSelected(9)" class="problem_text_input" /><input type="hidden" id="Q9_ans" value="0.8418231" /><input type="hidden" id="Q9_tolerance" value="1%" /><span id="Q9_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S9_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S9_div" class="problem_solution" tabindex="-1" display_name="Problem 3.2 - Validating Our Model" url_name="Problem_3_2_Validating_Our_Model_2"><div class="detailed-solution"><p>Explanation</p> <p>You can compute the baseline accuracy by summarizing the outcome variable in the test set. One way to do this is with table():</p> <p>table(SongsTest$Top10)</p> <p>Another approach would be to use dplyr:</p> <p>SongsTest %&gt;% group_by(Top10) %&gt;% summarize(count = n())</p> <p>The baseline model would get 314 observations correct, and 59 wrong, for an accuracy of 314/(314+59) = 0.8418231.</p></div></div> <div class="action"><button id="Q9_button" onclick="checkAnswer({9: 'numerical'})" class="problem_mo_button">Check</button><button id="Q9_button_show" onclick="showHideSolution({9: 'numerical'}, 9, [9])" class="problem_mo_button">Show Answer</button></div></div> <h2 class="subhead">Problem 3.3 - Validating Our Model</h2> <div class="self_assessment"><div id="Q10_div" class="problem_question"><p display_name="Problem 3.3 - Validating Our Model" url_name="Problem_3_3_Validating_Our_Model_0">What is the True Positive Rate of our model on the test set, using a threshold of 0.45?</p> <fieldset><legend class="visually-hidden">Exercise 10</legend> <div class="choice"><label id="Q10_label"><span id="Q10_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q10_input" value="" onkeypress="numericTypedOrDropDownSelected(10)" class="problem_text_input" /><input type="hidden" id="Q10_ans" value="0.2542373" /><input type="hidden" id="Q10_tolerance" value="1%" /><span id="Q10_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S10_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="Q11_div" class="problem_question"><p display_name="Problem 3.3 - Validating Our Model" url_name="Problem_3_3_Validating_Our_Model_2">What is the False Positive Rate of our model on the test set, using a threshold of 0.45?</p> <fieldset><legend class="visually-hidden">Exercise 11</legend> <div class="choice"><label id="Q11_label"><span id="Q11_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q11_input" value="" onkeypress="numericTypedOrDropDownSelected(11)" class="problem_text_input" /><input type="hidden" id="Q11_ans" value="0.01592357" /><input type="hidden" id="Q11_tolerance" value="1%" /><span id="Q11_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div> <p id="S11_ans" tabindex="-1" class="problem_answer">&nbsp;</p> </fieldset></div> <div id="S10_div" class="problem_solution" tabindex="-1" display_name="Problem 3.3 - Validating Our Model" url_name="Problem_3_3_Validating_Our_Model_4"><div class="detailed-solution"><p>Explanation</p> <p>Using the confusion matrix we obtained before using either table or group_by/summarize:</p> <p>table(SongsTest$Top10, testPredict &gt;= 0.45)</p> <p>We can compute the True Positive Rate to be the number of correctly identified Top10 songs divided by the total number of Top10 songs: 15/(15+44) = 0.2542373, and the False Positive Rate to be the number of non-Top10 songs that were identified as Top10 divided by the total number of non-Top10 songs: 5/(309+5) = 0.01592357.</p></div></div> <div class="action"><button id="Q10_button" onclick="checkAnswer({10: 'numerical', 11: 'numerical'})" class="problem_mo_button">Check</button><button id="Q10_button_show" onclick="showHideSolution({10: 'numerical', 11: 'numerical'}, 10, [10])" class="problem_mo_button">Show Answer</button></div></div> <ul class="navigation progress">     <li id="bck_btn"><a href="./resolveuid/bafc7d5602f9e47a53ea0d210aa17805">Back<span>Video 5: Test Set Predictions</span></a></li>     <li id="continue_btn"><a href="./resolveuid/3b4628337389a83d66097f7597856e56">Continue<span>Predicting the Baseball World Series Champion</span></a></li> </ul>