---
content_type: page
parent_title: '5.2 Turning Tweets into Knowledge: An Introduction to Text Analytics'
parent_uid: aea3bc9c-07f7-3648-65c4-6fec93dd8515
title: '5.2 Turning Tweets into Knowledge: An Introduction to Text Analytics'
uid: c08c448d-ba2f-6d4e-4aa3-a930b6c97c07
---
<ul class="navigation pagination"><li id="top_bck_btn"><a href="./resolveuid/6faa3dc62c17bf81844bb5d994e997d9">&lt;<span>Video 7: Predicting Sentiment</span></a></li><li id="flp_btn_1"><a href="./resolveuid/aea3bc9c07f7364865c46fec93dd8515">5.2.1<span>Video 1: Twitter</span></a></li><li id="flp_btn_2"><a href="./resolveuid/55f5a296f8231477e8374b3f5b26d21f">5.2.2<span>Video 2: Text Analytics</span></a></li><li id="flp_btn_3"><a href="./resolveuid/e9e9d44ac8e568124e52cdb5056597b7">5.2.3<span>Quick Question</span></a></li><li id="flp_btn_4"><a href="./resolveuid/f8520c5ec3cf3c3fe04672b8a73ae3a5">5.2.4<span>Video 3: Creating the Dataset</span></a></li><li id="flp_btn_5"><a href="./resolveuid/5e8b108be5fd93208fe7cd8bd5420c69">5.2.5<span>Quick Question</span></a></li><li id="flp_btn_6"><a href="./resolveuid/d4dd29197499fdd3dac1bca9ea53d04c">5.2.6<span>Video 4: Bag of Words</span></a></li><li id="flp_btn_7"><a href="./resolveuid/820047e715d4d34740e011a49546196a">5.2.7<span>Quick Question</span></a></li><li id="flp_btn_8"><a href="./resolveuid/6cb54a0c457feabde1b7dd4d95399d8c">5.2.8<span>Video 5: Pre-Processing in R</span></a></li><li id="flp_btn_9"><a href="./resolveuid/2199fef81de921254a61069ec69f588e">5.2.9<span>Quick Question</span></a></li><li id="flp_btn_10"><a href="./resolveuid/b8c9ec4867a6977eb31db490c342ef38">5.2.10<span>Video 6: Bag of Words in R</span></a></li><li id="flp_btn_11"><a href="./resolveuid/ef17614fa0132a73a77105ff3c4311af">5.2.11<span>Quick Question</span></a></li><li id="flp_btn_12"><a href="./resolveuid/6faa3dc62c17bf81844bb5d994e997d9">5.2.12<span>Video 7: Predicting Sentiment</span></a></li><li id="flp_btn_13" class="button_selected"><a href="./resolveuid/c08c448dba2f6d4e4aa3a930b6c97c07">5.2.13<span>Quick Question</span></a></li><li id="flp_btn_14"><a href="./resolveuid/f3a415ffeba9ca2d622f58bcb8aea03c">5.2.14<span>Video 8: Conclusion</span></a></li><li id="top_continue_btn"><a href="./resolveuid/f3a415ffeba9ca2d622f58bcb8aea03c">&gt;<span>Video 8: Conclusion</span></a></li></ul><h2 class="subhead">Quick Question</h2><div class="self_assessment"><p display_name="Quick Question" url_name="Quick_Question_397">In the previous video, we used CART and Random Forest to predict sentiment. Let's see how well logistic regression does. Build a logistic regression model (using the training set) to predict &quot;Negative&quot; using all of the independent variables. You may get a warning message after building your model - don't worry (we explain what it means in the explanation).</p> <p display_name="Quick Question" url_name="Quick_Question_398">Now, make predictions using the logistic regression model:</p> <p display_name="Quick Question" url_name="Quick_Question_399">predictions = predict(tweetLog, newdata=testSparse, type=&quot;response&quot;)</p> <p display_name="Quick Question" url_name="Quick_Question_400">where &quot;tweetLog&quot; should be the name of your logistic regression model. You might also get a warning message after this command, but don't worry, it is due to the same problem as the previous warning message.</p> <div id="Q1_div" class="problem_question"><p display_name="Quick Question" url_name="Quick_Question_401">Build a confusion matrix (with a threshold of 0.5) and compute the accuracy of the model. What is the accuracy?</p><fieldset><legend class="visually-hidden">Exercise 1</legend><div class="choice"><label id="Q1_label"><span id="Q1_aria_status" tabindex="-1" class="visually-hidden">&amp;nbsp;</span><span class="visually-hidden">Numerical Response</span><input type="text" id="Q1_input" value="" onkeypress="numericTypedOrDropDownSelected(1)" class="problem_text_input" /><input type="hidden" id="Q1_ans" value="0.8197183" /><input type="hidden" id="Q1_tolerance" value="0.1" /><span id="Q1_normal_status" class="nostatus" aria-hidden="true">&amp;nbsp;</span></label></div><p id="S1_ans" tabindex="-1" class="problem_answer">&nbsp;</p></fieldset></div><div id="S1_div" class="problem_solution" tabindex="-1" display_name="Quick Question" url_name="Quick_Question_403"><div class="detailed-solution"><p>Explanation</p> <p>You can build a logistic regression model in R by using the command:</p> <p>tweetLog = glm(Negative ~ ., data=trainSparse, family=&quot;binomial&quot;)</p> <p>Then you can make predictions and build a confusion matrix with the following commands:</p> <p>predictLog = predict(tweetLog, newdata=testSparse, type=&quot;response&quot;)</p> <p>table(testSparse$Negative, predictLog &gt; 0.5)</p> <p>The accuracy is (254+37)/(254+46+18+37) = 0.8197183, which is worse than the baseline. If you were to compute the accuracy on the training set instead, you would see that the model does really well on the training set - this is an example of over-fitting. The model fits the training set really well, but does not perform well on the test set. A logistic regression model with a large number of variables is particularly at risk for overfitting.</p> <p>Note that you might have gotten a different answer than us, because the glm function struggles with this many variables. The warning messages that you might have seen in this problem have to do with the number of variables, and the fact that the model is overfitting to the training set. We'll discuss this in more detail in the Homework Assignment.</p></div></div><p display_name="Quick Question" url_name="Quick_Question_404">Is this worse or better than the baseline model accuracy of 84.5%? Think about the properties of logistic regression that might make this the case!</p> <div class="action"><button id="Q1_button" onclick="checkAnswer({1: 'numerical'})" class="problem_mo_button">Check</button><button id="Q1_button_show" onclick="showHideSolution({1: 'numerical'}, 1, [1])" class="problem_mo_button">Show Answer</button></div></div><ul class="navigation progress"><li id="bck_btn"><a href="./resolveuid/6faa3dc62c17bf81844bb5d994e997d9">Back<span>Video 7: Predicting Sentiment</span></a></li><li id="continue_btn"><a href="./resolveuid/f3a415ffeba9ca2d622f58bcb8aea03c">Continue<span>Video 8: Conclusion</span></a></li></ul>